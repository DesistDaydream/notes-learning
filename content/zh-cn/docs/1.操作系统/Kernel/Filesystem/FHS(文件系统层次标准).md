---
title: FHS(文件系统层次标准)
weight: 3
---

# 概述

> 参考：
>
> - [Linux 基金会参考标准,文件系统层次标准](https://refspecs.linuxfoundation.org/fhs.shtml)
> - [Wiki，FHS](https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard)

**Filesystem Hierarchy Standard(文件系统层次标准，简称 FHS)** 为文件系统的每个区域指定指导原则，指定所需的最少文件和目录

该标准使：

- 用于预测已安装文件和目录位置的软件
- 用户预测已安装文件和目录的位置。

我们这样做：

- 为文件系统的每个区域指定指导原则，
- 指定所需的最少文件和目录，
- 列举原则的例外情况，以及
- 列举发生历史冲突的具体案例。

FHS 文件用于：

- 独立软件供应商创建符合 FHS 的应用程序，并与符合 FHS 的发行版合作，
- 操作系统创建者提供符合 FHS 的系统，以及
- 用户了解并维护系统的 FHS 合规性。

FHS 文件的范围有限：

- 本地文件的本地放置是本地问题，因此 FHS 不会试图篡夺系统管理员。
- FHS 解决了需要在多方（例如本地站点、发行版、应用程序、文档等）之间协调文件放置的问题。

## Unix 目录结构的来历

Unix（包含 Linux）的初学者，常常会很困惑，不明白目录结构的含义何在。
![](https://notes-learning.oss-cn-beijing.aliyuncs.com/cbem3o/1616167692312-d409e171-1b36-486c-8ab8-369fb7496328.jpeg)
举例来说，根目录下面有一个子目录 /bin，用于存放二进制程序。但是，/usr 子目录下面还有 /usr/bin，以及 /usr/local/bin，也用于存放二进制程序；某些系统甚至还有 /opt/bin。它们有何区别？

长久以来，我也感到很费解，不明白为什么这样设计。像大多数人一样，我只是根据《Unix 文件系统结构标准》（Filesystem Hierarchy Standard），死记硬背不同目录的区别。

昨天，我读到了 Rob Landley 的，这才恍然大悟，原来 Unix 目录结构是历史造成的。

话说 1969 年，Ken Thompson 和 Dennis Ritchie 在小型机 PDP-7 上发明了 Unix。1971 年，他们将主机升级到了 PDP-11。

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/cbem3o/1616167692315-3e0daae3-bc42-43c2-bdcc-daaf010e60a0.jpeg)

当时，他们使用一种叫做 RK05 的储存盘，一盘的容量大约是 1.5MB。

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/cbem3o/1616167692330-7be3ddfe-c384-4e49-a7a7-6607e438f03d.jpeg)

没过多久，操作系统（根目录）变得越来越大，一块盘已经装不下了。于是，他们加上了第二盘 RK05，并且规定第一块盘专门放系统程序，第二块盘专门放用户自己的程序，因此挂载的目录点取名为/usr。也就是说，根目录"/"挂载在第一块盘，"/usr"目录挂载在第二块盘。除此之外，两块盘的目录结构完全相同，第一块盘的目录（/bin, /sbin, /lib, /tmp...）都在/usr 目录下重新出现一次。

后来，第二块盘也满了，他们只好又加了第三盘 RK05，挂载的目录点取名为/home，并且规定/usr 用于存放用户的程序，/home 用于存放用户的数据。

从此，这种目录结构就延续了下来。随着硬盘容量越来越大，各个目录的含义进一步得到明确。

# 目录结构概览

## / - 第一层次结构的根、整个文件系统层次结构的根目录

通常情况下，根文件系统所占空间一般应该比较小，因为其中的绝大部分文件都不需要经常改动，而且包括严格的文件和一个小的 不经常改变的文件系统不容易损坏。除了可能的一个叫/vmlinuz 标准的系统引导映像之外，根目录一般不含任何文 件。所有其他文件在根文件系统的子目录中。

## /boot - 内核 及 引导文件的目录

包括内核和其它系统启动期间使用的文件。是启动 linux 时使用的核心文件。Linux kernel 常用的档名为：vmlinuz ，如果使用的是 grub 这个开机管理程式，则还会存在/boot/grub/这个目录。

/boot 目录存放引导加载器(bootstrap loader)使用的文件，如 lilo，核心映像也经常放在这里，而不是放在根目录中。但是如果有许多核心映像，这个目录就可能变得很大，这时使用单独的 文件系统会更好一些。还有一点要注意的是，要确保核心映像必须在 ide 硬盘的前 1024 柱面内

## /dev - 存放设备文件的目录

这些包括终端设备、USB 或连接到系统的任何设备。例如：/dev/tty1、/dev/usbmon0

/dev 目录存放了设备文件，即设备驱动程序，用户通过这些文件访问外部设备。比如，用户可 以通过访问/dev/mouse 来访问鼠标的输入，就像访问其他文件一样。

- /dev/console：系统控制台，也就是直接和系统连接的监视器。
- /dev/hd：ide 硬盘驱动程序接口。如：/dev/hda 指的是第一个硬 盘，had1 则是指/dev/hda 的第一个分区。如系统中有其他的硬盘，则依次为/dev/hdb、/dev/hdc、. . . . . .；如有多个分区则依次为 hda1、hda2 . . . . . .
- /dev/sd：scsi 磁盘驱动程序接口。如系统有 scsi 硬盘，就不会访问/dev/had， 而会访问/dev/sda。
- /dev/fd：软驱设备驱动程序。如：/dev/fd0 指 系统的第一个软盘，也就是通常所说的 a 盘，/dev/fd1 指第二个软盘，. . . . . .而/dev/fd1 h1440 则表示访问驱动器 1 中的 4.5 高密盘。
- /dev/st：scsi 磁带驱动器驱动程序。
- /dev/tty：提供虚拟控制台支持。如：/dev/tty1 指 的是系统的第一个虚拟控制台，/dev/tty2 则是系统的第二个虚拟控制台。
- /dev/pty：提供远程登陆伪终端支持。在进行 telnet 登录时就要用到/dev/pty 设 备。
- /dev/ttys：计算机串行接口，对于 dos 来说就是“com1”口。
- /dev/cua：计算机串行接口，与调制解调器一起使用的设备。
- /dev/null：“黑洞”，所有写入该设备的信息都将消失。例如：当想要将屏幕 上的输出信息隐藏起来时，只要将输出信息输入到/dev/null 中即可。
- /dev/randow 与/dev/unrandom # 随机数生成器。random 仅从熵池返回随机数，随机数用尽，阻塞。urandom 从熵池返回随机数，随机数用尽会利用软件生成伪随机数，非阻塞。

## /etc - 存放配置文件

包含所有程序所需的配置文件。也包含了用于启动/停止单个程序的启动和关闭 shell 脚本。

/etc 目录存放着各种系统配置文件，其中包括了用户信息文件 /etc/passwd， 系统初始化文件 /etc/rc 等。linux 正是靠这些文件才得以正常地运行。

- /etc/rc 或 /etc/rc.d 或 /etc/rc?.d # 启动、或改变运行级时运 行的脚本或脚本的目录。
- /etc/passwd：用户数据库，其中的域给出了用户名、真实姓名、用户起始目 录、加密口令和用户的其他信息。
- /etc/fstab：指定启动时需要自动安装的文件系统列表。也包括用 swapon -a 启用的 swap 区的信息。
- /etc/group：类似/etc/passwd ，但说明的不是用户信息而是组的信息。包括组的各种数据。
- /etc/issue：包括用户在登录提示符前的输出信息。通常包括系统的一段短说明 或欢迎信息。具体内容由系统管理员确定。
- /etc/magic：“file”的配置文件。包含不同文件格式的说 明，“file”基于它猜测文件类型。
- /etc/motd：motd 是 message of the day 的缩写，用户成功登录后自动输出。内容由系统管理员确定。常用于通告信息，如计划关机时间的警告等。
- /etc/mtab：当前安装的文件系统列表。由脚本(scritp)初始化，并由 mount 命令自动更新。当需要一个当前安装的文件系统的列表时使用(例如 df 命令)。
- /etc/login.defs：login 命令的配置文件。
- /etc/printcap：类似/etc/termcap ，但针对打印机。语法不同。
- /etc/profile 、/etc/csh.login、/etc/csh.cshrc：登 录或启动时 bourne 或 cshells 执行的文件。这允许系统管理员为所有用户建立全局缺省环境。
- /etc/services # 该文件为 daemon 与端口号，所用协议的对应关系
- /etc/securetty：确认安全终端，即哪个终端允许超级用户(root) 登录。一般只列出虚拟控制台，这样就不可能(至少很困难)通过调制解调器(modem)或网络闯入系统并得到超级用户特权。
- /etc/shadow：在安装了影子(shadow)口令软件的系统上的影子口令 文件。影子口令文件将/etc/passwd 文件中的加密口令移动到/etc/shadow 中，而后者只对超级用户(root)可读。这使破译口令更困 难，以此增加系统的安全性。
- /etc/shells：列出可以使用的 shell。chsh 命令允许用户在本文件指定范围内改变登录的 shell。提供一台机器 ftp 服务的服务进程 ftpd 检查用户 shell 是否列在 /etc/shells 文件 中，如果不是，将不允许该用户登录。

## /home - 系统预设的用户家目录

当新建用户没有指定家目录时默认家目录在“/home/用户名”下。例如：/home/john。

## /media - 可移动媒体设备。用于挂载可移动设备的临时目录

## /mnt - 临时挂载目录

/mnt 目录是系统管理员临时安装(mount)文件系统的安装点。程序并不自动支持安装到 /mnt 。/mnt 下面可以分为许多子目录，例如 /mnt/dosa 可能是使用 msdos 文件系统的软驱，而 /mnt/exta 可能是使用 ext2 文件系统的软驱，/mnt/cdrom 光 驱等等。

## /opt - 给第三方软件安装存放的目录，如 Oracle、Hacs 通常安装在此目录下

**Optional(可选的)**，早期 /opt/ 目录是用来存放由第三方厂商提供的软件包的，这些软件包通常不是系统必需的，但用户可以选择安装它们。

/opt 目录开始默认是空的。

## /proc - 包含系统进程的相关信息

**process information pseudo-filesystem(进程信息伪文件系统，简称 proc)**， 提供了内核数据结构的接口。默认被挂载到 /proc 目录上。一般情况是由操作系统自动挂载的，也可以通过`mount -t proc proc /proc`命令手动挂载。proc 文件系统中的大多数文件都是只读的，但是有些文件是可写的，用于改变内核参数。

详见：[Proc File System](/docs/1.操作系统/Kernel/Filesystem/特殊文件系统/Proc%20File%20System.md)

## /root - 系统管理员的家目录

## /run - 存放目录

**Run-time Variable Data(运行时变量数据，简称 Run)**。/run 目录是一个 **tmpfs(临时文件系统)**。该目录下的文件，在系统启动时会被清除，之后用来存放自系统启动以来正在运行的系统信息，例如 当前登录的用户 和 正在运行的程序 pid 等等。 详见 [tmpfs](/docs/1.操作系统/Kernel/Filesystem/特殊文件系统/tmpfs.md)

```bash
~]# df -h
Filesystem            Size  Used Avail Use% Mounted on
devtmpfs              1.9G     0  1.9G   0% /dev
tmpfs                 1.9G     0  1.9G   0% /dev/shm
tmpfs                 1.9G  8.5M  1.9G   1% /run
tmpfs                 1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/mapper/vg1-root  500G  5.3G  494G   2% /
/dev/vda2             477M  198M  250M  45% /boot
tmpfs                 378M     0  378M   0% /run/user/0
```

## /srv - 存放服务数据的目录。srv 代表服务。包含服务器特定服务相关的数据

## /sys - 在该目录下查看内核空间中一些驱动和设备

/sys/class/dmi - 物理设备信息，包括品牌、型号、序列号。

## /tmp - 创建临时文件的目录

/tmp 目录存放程序在运行时产生的信息和数据。但在引导启动后，运行的程序最好使用/var/tmp 来 代替/tmp，因为前者可能拥有一个更大的磁盘空间。

## /usr - 存放程序。包含二进制文件、库文件、文档和二级程序的源代码

最庞大的目录，要用到的应用程序和文件几乎都在这个目录

usr 是哪个的缩写一般无法准确，就现在来看，unix share resource 这个解释更合理一点，在 linux 很早之前，确实把 usr 目录当作用户的家目录来看，只不过后来把把用户家目录移动到/home 下罢了，现在的 usr 目录是个很重要的目录，通常这一文件系统很大，因为所有程序安装在这里。/usr 里的所有文件一般来自 linux 发行版；本地安装的程序和其他东西在/usr/local 下，因为这样可以在升级新版系 统或新发行版时无须重新安装全部程序。/usr 目录下的许多内容是可选的，但这些功能会使用户使用系统更加有效。/usr 可容纳许多大型的软件包和它们的 配置文件

除了/usr/share 目录的内容外，/usr 文件系统中的文件和目录可由具有相同硬件体系结构的所有机器共享

- **/usr/bin** 与 **/usr/sbin** # 中包含用户程序的应用程序(二进制文件)。如果你在/bin 中找不到用户二进制文件，到/usr/bin 目录看看。例如：at、awk、cc、less、scp。集中了几乎所有用户命令，是系统的软件库。另有些命令在/bin 或/usr/local/bin 中。sbin 中包含系统管理员的管理程序(二进制文件)。如果你在/sbin 中找不到系统二进制文件，到/usr/sbin 目录看看。例如：atd、cron、sshd、useradd、userdel。包括了根文件系统不必要的系统管理命令，例如多数服务程序。
- /usr/include # 包含了 c 语言的头文件，这些文件多以.h 结尾，用来描述 c 语言程序中用到的数据结构、子过程和常量。为了保持一致性，这实际上应该放在/usr/lib 下，但习惯上一直沿用了这 个名字。
- **/usr/lib**与 **/usr/lib64** # 常用的动态链接库和软件包的配置文件。包含了程序或子系统的不变的数据文件，包括一些 site – wide 配置文件。名字 lib 来源于库(library); 编程的原始库也存在/usr/lib 里。当编译程序时，程序便会和其中的库进行连接。也有许多程序把配置文件存入其中。包含支持位于/bin 和/sbin 下的二进制文件的库文件，库文件名为 ld*或 lib*.so.\*。
  - **/lib/modules** 目录包含系统核心可加载各种模块，尤其是那些在恢复损坏的系统时重 新引导系统所需的模块(例如网络和文件系统驱动)。
- **/usr/local** # 本地安装的软件和其他文件放在这里。这与/usr 很相似。用户 可能会在这发现一些比较大的软件包，如 tex、emacs 等。
  - **/usr/local/bin** # 本地增加的命令。
  - **/usr/local/lib** # 本地增加的库根文件系统。
- **/usr/share** # 包含于体系结构无关的可共享的文本文件。无论硬件体系结(x86、小型机等)构如何，此目录的内容都可由所有机器共享。
  - **./man、./info、./doc** # 这些目录包含所有 man 命令手册页、 gnu 信息文档和各种其他文档文件。每个联机手册的“节”都有两个子目录。例如：./man/man1 中包含联机手册第一节的源码(没有格式化的原 始文件)，./man/cat1 包含第一节已格式化的内容。联机手册分为以下九节：内部命令、系统调用、库函数、设备、文件格式、游戏、宏软件包、 系统管理和核心程序。
- **/usr/src** # 源代码，linux 内核的源代码就放在/usr/src/linux 里。
- **/usr/x11r6** # 存放 x window 的目录。包含 x window 系统的所有可执行程序、配置文件和支持文件。为简化 x 的开发和安装，x 的文件没有集成到系统中。x window 系统是一个功能强大的图形环境，提供了大量的图形工具程序。用户如果对 microsoft windows 比较熟悉的话，就不会对 x window 系统感到束手无策了
- **/usr/x386** # 类似/usr/x11r6 ，但是是专门给 x 11 release 5 的。

## /var - 存放变量文件的目录。这个目录下的文件是可能增长的

包括系统日志文件（/var/log）、包和数据库文件（/var/lib）、电子邮件（/var/mail）、打印队列（/var/spool）等等。

/var 包含系统一般运行时要改变的数据。通常这些数据所在的目录的大小是要经常变化或扩充 的。原来/var 目录中有些内容是在/usr 中的，但为了保持/usr 目录的相对稳定，就把那些需要经常改变的目录放到/var 中了。每个系统是特定的， 即不通过网络与其他计算机共享。下面列出一些重要的目录(一些不太重要的目录省略了)。

- **/var/catman** # 包括了格式化过的帮助(man)页。帮助页的源文件一般存在 /usr/man/catman 中；有些 man 页可能有预格式化的版本，存在/usr/man/cat 中。而其他的 man 页在第一次看时都需要格式化，格 式化完的版本存在/var/man 中，这样其他人再看相同的页时就无须等待格式化了。(/var/catman 经常被 清除，就像清除临时目录一样。)
- **/var/lib** # 存放系统正常运行时要改变的文件。
- **/var/local** # 存放/usr/local 中 安装的程序的可变数据(即系统管理员安装的程序)。注意，如果必要，即使本地安装的程序也会使用其他/var 目录，例如/var/lock 。
- **/var/lock** # 锁定文件。许多程序遵循在/var/lock 中 产生一个锁定文件的约定，以用来支持他们正在使用某个特定的设备或文件。其他程序注意到这个锁定文件时，就不会再使用这个设备或文件。
- **/var/log/** # 各种程序的日志(log)文件，尤其是 login (/var/log/wtmplog 纪 录所有到系统的登录和注销) 和 syslog (/var/log/messages 纪录存储所有核心和系统程序信息)。/var/log 里的文件经常不确定地增长，应该定期清除。
- **/var/run/** # 是 /run 目录的软链接
- **/var/spool** # 放置“假脱机(spool)”程序的目录，如 mail、 news、打印队列和其他队列工作的目录。每个不同的 spool 在/var/spool 下有自己的子目录，例如，用户的邮箱就存放在/var/spool/mail 中。
- **/var/tmp** # 比/tmp 允许更大的或需要存在较长时间的临时文件。注意系统管理 员可能不允许/var/tmp 有很旧的文件。

