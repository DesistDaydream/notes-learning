---
title: å¦‚ä½•å‚ä¸å¼€æºé¡¹ç›®-ç»†è¯´ GitHub ä¸Šçš„ PR å…¨è¿‡ç¨‹
---

## ä¸€ã€æ¦‚è¿°

> åŸæ–‡é“¾æ¥ï¼š
> - <https://mp.weixin.qq.com/s/8tKpPqFeZOEE4ldEWptMZg>

**ä»Šå¤©æˆ‘å‡†å¤‡å’Œä½ è¯¦ç»†ä»‹ç»å¦‚ä½•å¼€å§‹å‚ä¸å¼€æºé¡¹ç›®ï¼Œå¸®åŠ©ä½ åœ¨ GitHub ä¸Šå®Œæˆç¬¬ä¸€ä¸ª PR çš„åˆå…¥**ã€‚

å½“ç„¶ï¼Œé™¤äº†æ­£å¸¸çš„ PR åˆå…¥æµç¨‹ä¹‹å¤–ï¼Œæˆ‘è¿˜å‡†å¤‡è¯¦ç»†ä»‹ç»ä¸€ä¸‹å¦‚æœä¸€ä¸ª PR æäº¤åé‡åˆ°äº†å†²çªã€éœ€è¦è¿½åŠ  commitsã€éœ€è¦åˆå¹¶ commits ç­‰ç­‰ç›¸å¯¹å¤æ‚é—®é¢˜è¯¥å¦‚ä½•è§£å†³ã€‚

æ€»çš„æ¥è¯´ï¼Œæœ¬æ–‡è®¡åˆ’åˆ†ä¸º 4 ä¸ªéƒ¨åˆ†ï¼š

1. è°ˆè°ˆä¸ºä»€ä¹ˆè¦å‚ä¸å¼€æºé¡¹ç›®ä»¥åŠæˆ‘ä¸ºä»€ä¹ˆè¦ä»‹ç»å¦‚ä½• PR
2. è°ˆè°ˆæ€ä¹ˆå¼€å§‹å‚ä¸å¼€æºé¡¹ç›®ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•å¯»æ‰¾åˆé€‚çš„å¼€æºé¡¹ç›®ã€å¦‚ä½•å¯»æ‰¾è´¡çŒ®ç‚¹
3. ä»‹ç»æ€ä¹ˆä¸Šæ‰‹ PR æµç¨‹ï¼Œå³ä» fork åˆ° push å…¨æµç¨‹
4. ä»‹ç»æäº¤äº† PR ä¹‹åé‡åˆ°å„ç§å¸¸è§é—®é¢˜å¦‚ä½•è§£å†³

Ok, let's get started!

## äºŒã€ä¸ºä»€ä¹ˆè¦å‚ä¸å¼€æºé¡¹ç›®

æœ¬æ–‡æˆ‘ä¸æ‰“ç®—é•¿ç¯‡å¤§è®º â€œä¸ºä»€ä¹ˆè¦å‚ä¸å¼€æºâ€ï¼Œè¯¦ç»†ä»‹ç»å‚ä¸å¼€æºé¡¹ç›®çš„æ”¶è·ï¼Œæˆ‘æƒ³ä»…ä»â€œæå‡ç¼–ç èƒ½åŠ›â€ è§’åº¦è°ˆä¸€è°ˆâ€œä¸ºä»€ä¹ˆè¦å‚ä¸å¼€æºé¡¹ç›®â€ã€‚

åœ¨é¢è¯•çš„æ—¶å€™æˆ‘æœ‰ä¸ªä¹ æƒ¯ï¼Œå¦‚æœå€™é€‰äººåœ¨è‡ªå·±çš„ç®€å†é‡Œè¯´åˆ°è‡ªå·±ç†Ÿæ‚‰æŸä¸€é—¨è¯­è¨€ï¼Œæˆ‘å°±ä¼šä¹ æƒ¯æ€§é—®ä»–ä¸€ä¸ªé—®é¢˜ï¼š

**ä½ æœ‰æ²¡æœ‰é˜…è¯»è¿‡æŸä¸ªå¼€æºé¡¹ç›®çš„æºç ï¼Ÿæˆ–è€…æ›´è¿›ä¸€æ­¥ï¼Œæœ‰æ²¡æœ‰å‚ä¸è¿‡æŸä¸ªå¼€æºç¤¾åŒºï¼Œæˆ–è€…è¯´ç»™å¼€æºé¡¹ç›®æè¿‡ PR**ï¼Ÿ

å¦‚æœç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œæ¯”å¦‚å€™é€‰äººè¯´è‡ªå·±è¯»è¿‡éƒ¨åˆ† Kubernetes æ¨¡å—çš„æºç ï¼Œå†è¿›ä¸€æ­¥æˆ‘ç¡®è®¤ä»–çœŸçš„è¯»è¿‡å¹¶ä¸”è¯»æ‡‚äº†æˆ–è€…è¯´çœŸçš„æäº¤è¿‡ bugfix/feature ç±»å‹çš„ PRï¼Œé‚£æˆ‘å°±ä¸å†é—®ç¼–ç¨‹è¯­è¨€å±‚é¢çš„é—®é¢˜äº†ï¼Œå› ä¸ºæˆ‘ç›¸ä¿¡èƒ½çœ‹æ‡‚ä¸€ä¸ªæˆç†Ÿçš„å¼€æºé¡¹ç›®éƒ¨åˆ†æ¨¡å—æºç æˆ–è€…èƒ½å¤Ÿæäº¤ bugfix/feature ç±»å‹çš„ PR å·²ç»è¯´æ˜äº†ä¸€åˆ‡ã€‚

æˆ‘è‡ªå·±åœ¨å­¦ä¹  Golang çš„æ—¶å€™ï¼Œå¤§è‡´åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š

1. å­¦ä¹ åŸºç¡€è¯­æ³•ï¼Œå¼€å§‹å†™é¡¹ç›®ï¼Œç›´åˆ°èƒ½å¤Ÿç†Ÿç»ƒå®Œæˆå„ç§ä¸šåŠ¡åŠŸèƒ½çš„å¼€å‘ï¼›
2. çœ‹äº†ä¸€äº›å¼€æºé¡¹ç›®çš„æºç ï¼Œæ·±æ„Ÿå—ç›Šé¢‡å¤šï¼Œç¼–ç æ°´å¹³å†ä¸Šä¸€ä¸ªå°é˜¶ã€‚

å·®ä¸å¤šä¹Ÿå°±æ˜¯åœ¨çœ‹ Kubernetes é¡¹ç›®æºç çš„æ—¶å€™ï¼Œæˆ‘æ·±åˆ»è®¤è¯†åˆ°ä¸€èˆ¬çš„ä¼ä¸šå†…éƒ¨é¡¹ç›®å’Œæ±‡é›†å…¨ä¸–ç•Œæœ€ä¼˜ç§€çš„ç¨‹åºå‘˜æ™ºæ…§ç»“æ™¶çš„å¼€æºé¡¹ç›®ä¹‹é—´çš„å·¨å¤§å·®è·ï¼Œä¹Ÿæ„è¯†åˆ°å­¦ä¹ ä¼˜ç§€å¼€æºé¡¹ç›®æºç å¯¹äºä¸€ä¸ªç¨‹åºå‘˜ç¼–ç æ°´å¹³æå‡çš„é‡è¦æ€§ï¼ˆå½“ç„¶ï¼Œä½ å¯ä»¥è¯´ Google å†…éƒ¨ä¹Ÿå­˜åœ¨éå¼€æºçš„éå¸¸ä¼˜ç§€çš„ä»£ç ï¼Œè¿™æ¯«æ— ç–‘é—®ï¼Œä½†æ˜¯æˆ‘æƒ³ä»Šå¤©æˆ‘ä»¬æ²¡æœ‰å¿…è¦è®¨è®ºç‰¹ä¾‹ï¼‰ã€‚

è®¤çœŸé˜…è¯»å¼€æºé¡¹ç›®æºç ï¼Œä½ æ€»ä¼šå‘ç°ä¸€äº›å°ç‘•ç–µï¼Œè¿™æ—¶å€™æä¸€ä¸ª PR(Pull Request)ï¼Œè®©ä½ çš„ä»£ç åˆå…¥å¼€æºé¡¹ç›®ï¼Œè¿è¡Œåœ¨ â€œä¸–ç•Œæ¯ä¸€ä¸ªè§’è½â€ï¼Œé‚£æ˜¯å¤šä¹ˆæœ‰è¶£çš„äº‹æƒ…ï¼è€ŒæˆåŠŸåˆå…¥ç¬¬ä¸€ä¸ª PR å¾€å¾€å°±åƒæ‰“å¼€æ½˜å¤šæ‹‰é­”ç›’ä¸€æ ·ï¼Œä½ ä¼šè¿›å…¥åˆ°å¦å¤–ä¸€ä¸ªä¸–ç•Œï¼Œå¼€å§‹æ¥è§¦åˆ°å¼€æºç¤¾åŒºï¼Œæ„Ÿå—å¼€æºçš„é­…åŠ›ï¼

## ä¸‰ã€ä¸ºä»€ä¹ˆæˆ‘æƒ³ä»‹ç»å¦‚ä½• PR

æˆ‘å¸å¼€æºäº† 2 ä¸ªé¡¹ç›®ï¼Œåˆ†åˆ«æ˜¯ï¼š

1. CNCF Project DevStream\[1]

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

CNCF Project DevStream

2. Apache DevLake\[2]![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

DevStream é¡¹ç›®å’Œ DevLake é¡¹ç›®éš”ä¸‰å·®äº”å°±ä¼šæœ‰æ–°è´¡çŒ®è€…æäº¤ PR è¿‡æ¥ï¼Œä½†æ˜¯å¤šæ•°è´¡çŒ®è€…åœ¨æäº¤ç¬¬ä¸€ä¸ª PR æ—¶å¾€å¾€ä¼šé‡åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªé—®é¢˜ï¼Œæ¯”å¦‚äº§ç”Ÿå†²çªã€commits è®°å½•è¿‡å¤šæˆ–è€…æ··ä¹±ã€commit æ²¡æœ‰ç­¾åã€commit message ä¸è§„èŒƒã€å„ç§ ci æµç¨‹æ£€æŸ¥æŠ¥é”™ç­‰ç­‰ã€‚

åœ¨çœ‹åˆ°æ–°è´¡çŒ®è€…æäº¤ PR æ—¶ï¼Œæˆ‘ä»¬è‡ªç„¶æ˜¯éå¸¸å¼€å¿ƒä¸”çƒ­æƒ…åœ°å¯¹ä»–è¡¨ç¤ºæ¬¢è¿å¹¶ä¸”å‘ŠçŸ¥å¦‚ä½•ä¿®å¤å„ç§é—®é¢˜ï¼Œä½†æ˜¯éšç€è´¡çŒ®è€…çš„å¢å¤šï¼Œæˆ‘ä»¬çš„å¼€æºç¤¾åŒºå‡ ä¹æ¯å¤©éƒ½éœ€è¦å›ç­”ä¸€ä¸ªé—®é¢˜ï¼šâ€œ**å¦‚ä½•æ­£ç¡®åœ°æäº¤ä¸€ä¸ª PR**â€ã€‚å¯èƒ½æ­¤æ—¶ä½ ä¼šå¼€å§‹æ€€ç–‘æˆ‘ä»¬æ˜¯ä¸æ˜¯æ²¡æœ‰æä¾›ç›¸åº”çš„æ–‡æ¡£ï¼Ÿå…¶å®ä¸ç„¶ï¼Œæˆ‘ä»¬æœ‰è¯¦ç»†çš„æ–‡æ¡£ï¼Œä½†æ˜¯äººæ€»æ˜¯æœ‰æƒ°æ€§çš„ï¼Œå¤šæ•°çš„æ–°è´¡çŒ®è€…å¹¶æ²¡æœ‰è¶³å¤Ÿçš„æ„æ„¿å»ä»”ç»†çœ‹ç¿»çœ‹æ–‡æ¡£ç„¶åå†æäº¤ PRï¼Œç”šè‡³å¾ˆå¤šæ–°è´¡çŒ®è€…ç”±äºåˆšå¼€å§‹æ¥è§¦å¼€æºé¡¹ç›®ï¼Œå¯¹äºé¡¹ç›®ç»“æ„å’Œæ–‡æ¡£ç»„ç»‡ç»“æ„æ¯”è¾ƒé™Œç”Ÿï¼Œç”šè‡³ä¸ä¼šæƒ³åˆ°æœ‰è¿™äº›æ–‡æ¡£çš„å­˜åœ¨ï¼Œæ€»ä¹‹å„ç§å„æ ·çš„ç†ç”±è®©å¤šæ•°çš„æ–°è´¡çŒ®è€…ä¼šé€‰æ‹© â€œ**å…ˆæäº† PR å†è¯´**â€ã€‚

é‚£ä¹ˆä»Šå¤©æˆ‘æƒ³å°è¯•å½»åº•è®²æ˜ç™½ â€œå¦‚ä½•æ­£ç¡®åœ°æäº¤ä¸€ä¸ª PRâ€ï¼Œå°è¯•ç»†è¯´ GitHub ä¸Šçš„ PR å…¨è¿‡ç¨‹ï¼Œä»¥åŠè¿™é‡Œé¢å¯èƒ½ä¼šé‡åˆ°çš„å„ç§å›°éš¾å’Œè§£å†³åŠæ³•ã€‚**ä¸€æ–¹é¢å¸Œæœ›å¯¹ç¬¬ä¸€æ¬¡å‚ä¸å¼€æºé¡¹ç›®çš„æ–°äººæœ‰æ‰€å¸®åŠ©ï¼Œå¦ä¸€æ–¹é¢å¸Œæœ›èƒ½å¤Ÿè¿›ä¸€æ­¥é™ä½ DevStream ç¤¾åŒºå’Œ DevLake ç¤¾åŒºçš„å‚ä¸é—¨æ§›**ã€‚

## å››ã€æˆ‘æƒ³å‚ä¸å¼€æºé¡¹ç›®ï¼Œæ€ä¹ˆå¼€å§‹ï¼Ÿ

ä¸ç®¡ä½ ä¸ºä»€ä¹ˆå†³å®šå¼€å§‹å‚ä¸å¼€æºé¡¹ç›®ï¼Œä¸ç®¡å‡ºå‘ç‚¹æ˜¯å‡ºäºå­¦ä¹ ã€å…´è¶£ã€æˆå°±æ„Ÿç­‰ç­‰ï¼Œè¿˜æ˜¯ä¸ºäº†è®©æŸä¸ªè‡ªå·±éœ€è¦çš„ç‰¹æ€§åˆå…¥æŸä¸ªå¼€æºé¡¹ç›®ï¼Œæ€»ä¹‹ä»Šå¤©ä½ ä¸‹å®šå†³å¿ƒï¼Œè¦ç»™æŸä¸ªå¼€æºé¡¹ç›®æäº¤ä¸€ä¸ª PR äº†ï¼Œå¥½ï¼Œæˆ‘ä»¬å¼€å§‹å§ï¼

### 4.1ã€å¯»æ‰¾ä¸€ä¸ªåˆé€‚çš„å¼€æºé¡¹ç›®

å¦‚æœä½ å·²ç»å†³å®šå‚ä¸æŸä¸ªå¼€æºç¤¾åŒºäº†ï¼Œé‚£ä¹ˆè¯·ç›´æ¥è·³è¿‡æœ¬å°èŠ‚ã€‚

å¦‚æœä½ å°±åªæ˜¯æƒ³å¼€å§‹å‚ä¸å¼€æºï¼Œæš‚æ—¶è¿˜ä¸çŸ¥é“è¯¥å‚ä¸å“ªä¸ªç¤¾åŒºï¼Œé‚£ä¹ˆæˆ‘æœ‰å‡ ä¸ªå°å»ºè®®ï¼š

1. **ä¸è¦ä»ç‰¹åˆ«æˆç†Ÿçš„é¡¹ç›®å¼€å§‹**ã€‚æ¯”å¦‚ç°åœ¨å»å‚ä¸ Kubernetes ç¤¾åŒºï¼Œä¸€æ–¹é¢ç”±äºè´¡çŒ®è€…å¤ªå¤šï¼Œå¾ˆéš¾æŠ¢åˆ°ä¸€ä¸ªå…¥é—¨çº§çš„ issue æ¥å¼€å§‹ç¬¬ä¸€ä¸ª PRï¼›å¦å¤–ä¸€æ–¹é¢ä¹Ÿç”±äºè´¡çŒ®è€…å¤ªå¤šï¼Œä½ çš„å£°éŸ³ä¼šè¢«æ·¹æ²¡ï¼Œç¤¾åŒºç»´æŠ¤è€…å¹¶ä¸åœ¨æ„å¤šä½ ä¸€ä¸ªæˆ–è€…å°‘ä½ ä¸€ä¸ªï¼ˆå½“ç„¶å¯èƒ½æ²¡æœ‰äººä¼šæ‰¿è®¤ï¼Œä½†æ˜¯ä½ ä¸å¾—ä¸ä¿¡ï¼‰ï¼Œå¦‚æœä½ æä¸ª PR éƒ½é‡åˆ°äº†å„ç§é—®é¢˜è¿˜ä¸èƒ½è‡ªå·±ç‹¬ç«‹è§£å†³ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½ä½ çš„ PR ä¼šç›´æ¥è¶…æ—¶å…³é—­ï¼Œæ²¡æœ‰äººåœ¨æ„ä½ æ˜¯ä¸æ˜¯æœ‰ä¸€ä¸ªå¥½çš„å‚ä¸ä½“éªŒï¼›
2. **ä¸è¦ä»ç‰¹åˆ«å°çš„é¡¹ç›®å¼€å§‹**ã€‚è¿™å°±ä¸éœ€è¦æˆ‘è§£é‡Šäº†å§ï¼Ÿå¾ˆæ—©æœŸçš„å¼€æºé¡¹ç›®å¯èƒ½é¢ä¸´ç€éå¸¸å¤šçš„é—®é¢˜ï¼Œæ¯”å¦‚ä»£ç ä¸è§„èŒƒã€åä½œæµç¨‹ä¸è§„èŒƒã€é‡æ„é¢‘ç¹ä¸”ä¸æ˜¯ issue é©±åŠ¨çš„ï¼Œè®©å¤–éƒ¨å‚ä¸è€…æ— æ‰€é€‚ä»â€¦â€¦
3. **é€‰æ‹©çŸ¥åå¼€æºè½¯ä»¶åŸºé‡‘ä¼šçš„å­µåŒ–é¡¹ç›®**ï¼Œè¿™ç±»é¡¹ç›®ä¸€æ–¹é¢ä¸æ˜¯ç‰¹åˆ«æˆç†Ÿï¼Œæ‰€ä»¥å¯¹æ–°è´¡çŒ®è€…å‹å¥½ï¼›å¦ä¸€æ–¹é¢ä¹Ÿä¸ä¼šç‰¹åˆ«ä¸æˆç†Ÿï¼Œä¸è‡³äºç»™äººå¾ˆå·®çš„å‚ä¸ä½“éªŒï¼Œæ¯”å¦‚ **Apache åŸºé‡‘ä¼šã€Linux åŸºé‡‘ä¼šã€CNCF ç­‰**ã€‚

æ¯”å¦‚å¯ä»¥ä»è¿™äº›åœ°æ–¹å¯»æ‰¾è‡ªå·±æ„Ÿå…´è¶£çš„å¼€æºé¡¹ç›®ï¼š

- CNCF æ²™ç®±é¡¹ç›®\[3]
- CNCF å­µåŒ–é¡¹ç›® (åˆ—è¡¨åŒ…æ‹¬æ¯•ä¸šé¡¹ç›®)\[4]
- Apache é¡¹ç›® (å­µåŒ–æœŸé¡¹ç›®åå­—ä¸­å¸¦ Incubating)\[5]

å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥é€‰æ‹©ä» CNCF æ²™ç®±é¡¹ç›® DevStream\[6] æˆ–è€… Apache å­µåŒ–é¡¹ç›® Apache DevLake\[7]ï¼Œä»¥æ­¤æ•²å¼€å¼€æºä¸–ç•Œçš„å¤§é—¨ã€‚

### 4.2ã€å¯»æ‰¾è´¡çŒ®ç‚¹

å¼€æºé¡¹ç›®çš„å‚ä¸æ–¹å¼å¾ˆå¤šï¼Œæœ€å…¸å‹çš„æ–¹å¼æ˜¯æäº¤ä¸€ä¸ªç‰¹æ€§å¼€å‘æˆ–è€… bug ä¿®å¤ç›¸å…³çš„ PRï¼Œä½†æ˜¯å…¶å®æ–‡æ¡£å®Œå–„ã€æµ‹è¯•ç”¨ä¾‹å®Œå–„ã€bug åé¦ˆç­‰ç­‰ä¹Ÿéƒ½æ˜¯éå¸¸æœ‰ä»·å€¼çš„è´¡çŒ®ã€‚ä¸è¿‡æœ¬æ–‡è¿˜æ˜¯ä»éœ€è¦æ PR çš„è´¡çŒ®ç‚¹å¼€å§‹ä¸Šæ‰‹ï¼Œä»¥ DevStream é¡¹ç›®ä¸ºä¾‹ï¼ˆå…¶ä»–é¡¹ç›®ä¹Ÿä¸€æ ·ï¼‰ï¼Œåœ¨é¡¹ç›® GitHub ä»£ç åº“é¦–é¡µéƒ½ä¼šæœ‰ä¸€ä¸ª Issues å…¥å£\[8]ï¼Œè¿™é‡Œä¼šè®°å½•é¡¹ç›®ç›®å‰å·²çŸ¥çš„ bugã€proposal(å¯ä»¥ç†è§£æˆæ–°éœ€æ±‚)ã€è®¡åˆ’è¡¥å……çš„æ–‡æ¡£ã€äºŸéœ€å®Œå–„çš„ UT ç­‰ç­‰ï¼Œå¦‚ä¸‹å›¾ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

DevStream Issues

åœ¨ Issues é‡Œæˆ‘ä»¬ä¸€èˆ¬å¯ä»¥æ‰¾åˆ°ä¸€ä¸ª â€œgood first issueâ€ æ ‡ç­¾æ ‡è®°çš„ issuesï¼Œç‚¹å‡»è¿™ä¸ªæ ‡ç­¾å¯ä»¥è¿›ä¸€æ­¥ç›´æ¥ç­›é€‰å‡ºæ‰€æœ‰çš„ good first issuesï¼Œè¿™æ˜¯ç¤¾åŒºä¸“é—¨ç•™ç»™æ–°è´¡çŒ®è€…çš„ç›¸å¯¹ç®€å•çš„å…¥é—¨çº§ issuesï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

DevStream Good First Issues

æ²¡é”™ï¼Œä»è¿™é‡Œå¼€å§‹ï¼Œæµè§ˆä¸€ä¸‹è¿™äº› good first issuesï¼Œçœ‹ä¸‹æœ‰æ²¡æœ‰ä½ æ„Ÿå…´è¶£çš„è€Œä¸”è¿˜æ²¡è¢«åˆ†é…çš„ issueï¼Œç„¶ååœ¨ä¸‹é¢ç•™è¨€ï¼Œç­‰å¾…é¡¹ç›®ç®¡ç†å‘˜åˆ†é…ä»»åŠ¡åå°±å¯ä»¥å¼€å§‹ç¼–ç äº†ï¼Œå°±åƒè¿™æ ·ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Claim an Issue in DevStream

å¦‚å›¾æ‰€ç¤ºï¼Œå¦‚æœä¸€ä¸ª issue è¿˜æ²¡æœ‰è¢«è®¤é¢†ï¼Œè¿™æ—¶å€™ä½ ä¸Šå»ç•™ä¸ªè¨€ï¼Œç­‰å¾…ç®¡ç†å‘˜ä¼šå°†è¿™ä¸ªä»»åŠ¡åˆ†é…ç»™ä½ ï¼Œæ¥ç€ä½ å°±å¯ä»¥å¼€å§‹å¼€å‘äº†ã€‚

## äº”ã€æˆ‘è¦æäº¤ PRï¼Œæ€ä¹ˆä¸Šæ‰‹ï¼Ÿ

ä¸€èˆ¬å¼€æºé¡¹ç›®ä»£ç åº“æ ¹ç›®å½•éƒ½ä¼šæœ‰ä¸€ä¸ª CONTRIBUTING.md æˆ–è€…å…¶ä»–ç±»ä¼¼åå­—çš„æ–‡æ¡£æ¥ä»‹ç»å¦‚ä½•å¼€å§‹è´¡çŒ®ï¼Œåƒè¿™æ ·ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

DevStream Contributing

åœ¨ DevStream çš„ Contributing\[9] æ–‡æ¡£é‡Œæˆ‘ä»¬æ”¾äº†ä¸€ä¸ª Development Workflow\[10]ï¼Œå…¶å®å°±æ˜¯ PR å·¥ä½œæµçš„ä»‹ç»ï¼Œä¸è¿‡ä»Šå¤©ï¼Œæˆ‘è¦æ›´è¯¦ç»†åœ°èŠèŠ PR å·¥ä½œæµã€‚

### 5.1ã€ç¬¬ä¸€æ­¥ï¼šFork é¡¹ç›®ä»“åº“

GitHub ä¸Šçš„é¡¹ç›®éƒ½æœ‰ä¸€ä¸ª Fork æŒ‰é’®ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°†å¼€æºé¡¹ç›® fork åˆ°è‡ªå·±çš„è´¦å·ä¸‹ï¼Œä»¥ DevStream ä¸ºä¾‹ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Fork DevStream

ç‚¹ä¸€ä¸‹ Fork æŒ‰é’®ï¼Œç„¶åå›åˆ°è‡ªå·±è´¦å·ä¸‹ï¼Œå¯ä»¥æ‰¾åˆ° fork åˆ°çš„é¡¹ç›®äº†ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

DevStream Fork

è¿™ä¸ªé¡¹ç›®åœ¨ä½ è‡ªå·±çš„è´¦å·ä¸‹ï¼Œä¹Ÿå°±æ„å‘³ç€ä½ æœ‰ä»»æ„ä¿®æ”¹çš„æƒé™äº†ã€‚æˆ‘ä»¬åé¢è¦åšçš„äº‹æƒ…ï¼Œå°±æ˜¯å°†ä»£ç å˜æ›´æåˆ°è‡ªå·± fork å‡ºæ¥çš„ä»£ç åº“é‡Œï¼Œç„¶åå†é€šè¿‡ Pull Request çš„æ–¹å¼å°† commits åˆå…¥ä¸Šæ¸¸é¡¹ç›®ã€‚

### 5.2ã€ç¬¬äºŒæ­¥ï¼šå…‹éš†é¡¹ç›®ä»“åº“åˆ°æœ¬åœ°

å¯¹äºä»»æ„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæµç¨‹å‡ ä¹éƒ½æ˜¯ä¸€æ ·çš„ã€‚æˆ‘ç›´æ¥å†™äº†ä¸€äº›å‘½ä»¤ï¼Œå¤§å®¶å¯ä»¥å¤åˆ¶ç²˜è´´ç›´æ¥æ‰§è¡Œã€‚å½“ç„¶ï¼Œå‘½ä»¤é‡Œçš„ä¸€äº›å˜é‡è¿˜æ˜¯éœ€è¦æ ¹æ®ä½ è‡ªå·±çš„å®é™…éœ€æ±‚ä¿®æ”¹ï¼Œæ¯”å¦‚å¯¹äº DevStream é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè¿™æ ·é…ç½®å‡ ä¸ªç¯å¢ƒå˜é‡ï¼š

- ç¯å¢ƒå˜é‡

`export WORKING_PATH="~/gocode" export USER="daniel-hutao" export PROJECT="devstream" export ORG="devstream-io"`

åŒç†å¯¹äº DevLakeï¼Œè¿™é‡Œçš„å‘½ä»¤å°±å˜æˆäº†è¿™æ ·ï¼š

`export WORKING_PATH="~/gocode" export USER="daniel-hutao" export PROJECT="incubator-devlake" export ORG="apache"`

è®°å¾— USER æ”¹æˆä½ çš„ GitHub ç”¨æˆ·åï¼ŒWORKING_PATH å½“ç„¶ä¹Ÿå¯ä»¥çµæ´»é…ç½®ï¼Œä½ æƒ³æŠŠä»£ç æ”¾åˆ°å“ªé‡Œï¼Œå°±å†™å¯¹åº”è·¯å¾„ã€‚

æ¥ç€å°±æ˜¯å‡ è¡Œé€šç”¨çš„å‘½ä»¤æ¥å®Œæˆ clone ç­‰æ“ä½œäº†ï¼š

- clone ç­‰
```
mkdir -p ${WORKING_PATH}
cd ${WORKING_PATH}

# You can also use the url: <git@github.com>:![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/latex){PROJECT}.git

# if your ssh configuration is proper

git clone [https://github.com/{PROJECT}.git](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/latex)
cd ${PROJECT}

git remote add upstream [https://github.com/{PROJECT}.git](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/latex)

# Never push to upstream locally

git remote set-url --push upstream no_push
```
å¦‚æœä½ é…ç½®å¥½äº† ssh æ–¹å¼æ¥ clone ä»£ç ï¼Œå½“ç„¶ï¼Œgit clone å‘½ä»¤ç”¨çš„ url å¯ä»¥æ”¹æˆ`git@github.com:${USER}/${PROJECT}.git`ã€‚

å®Œæˆè¿™ä¸€æ­¥åï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°çœ‹åˆ°çš„ remote ä¿¡æ¯åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š

- `git remote -v`

`origin	git@github.com:daniel-hutao/devstream.git (fetch) origin	git@github.com:daniel-hutao/devstream.git (push) upstream	https://github.com/devstream-io/devstream (fetch) upstream	no_push (push)`

è®°ä½å•°ï¼Œä½ æœ¬åœ°çš„ä»£ç å˜æ›´æ°¸è¿œåªæäº¤åˆ° originï¼Œç„¶åé€šè¿‡ origin æäº¤ Pull Request åˆ° upstreamã€‚

### 5.3ã€ç¬¬ä¸‰æ­¥ï¼šæ›´æ–°æœ¬åœ°åˆ†æ”¯ä»£ç 

å¦‚æœä½ åˆšåˆšå®Œæˆ fork å’Œ clone æ“ä½œï¼Œé‚£ä¹ˆä½ æœ¬åœ°çš„ä»£ç è‚¯å®šæ˜¯æ–°çš„ã€‚ä½†æ˜¯ â€œåˆšåˆšâ€ åªå­˜åœ¨ä¸€æ¬¡ï¼Œæ¥ç€æ¯ä¸€æ¬¡å‡†å¤‡å¼€å§‹å†™ä»£ç ä¹‹å‰ï¼Œä½ éƒ½éœ€è¦ç¡®è®¤æœ¬åœ°åˆ†æ”¯çš„ä»£ç æ˜¯æ–°çš„ï¼Œå› ä¸ºåŸºäºè€ä»£ç å¼€å‘ä½ ä¼šé™·å…¥æ— é™çš„å†²çªå›°å¢ƒä¹‹ä¸­ã€‚

- æ›´æ–°æœ¬åœ° main åˆ†æ”¯ä»£ç ï¼š

`git fetch upstream git checkout main git rebase upstream/main`

å½“ç„¶ï¼Œæˆ‘ä¸å»ºè®®ä½ ç›´æ¥åœ¨ main åˆ†æ”¯å†™ä»£ç ï¼Œè™½ç„¶ä½ çš„ç¬¬ä¸€ä¸ª PR ä» main æäº¤å®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœä½ éœ€è¦åŒæ—¶æäº¤ 2 ä¸ª PR å‘¢ï¼Ÿæ€»ä¹‹é¼“åŠ±æ–°å¢ä¸€ä¸ª feat-xxx æˆ–è€… fix-xxx ç­‰æ›´å¯è¯»çš„åˆ†æ”¯æ¥å®Œæˆå¼€å‘å·¥ä½œã€‚

- åˆ›å»ºåˆ†æ”¯

`git checkout -b feat-xxx`

è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªå’Œä¸Šæ¸¸ main åˆ†æ”¯ä»£ç ä¸€æ ·çš„ç‰¹æ€§åˆ†æ”¯ feat-xxx äº†ï¼Œæ¥ç€å¯ä»¥å¼€å§‹æ„‰å¿«åœ°å†™ä»£ç å•¦ï¼

### 5.4ã€ç¬¬å››æ­¥ï¼šå†™ä»£ç 

æ²¡å•¥å¥½è¯´çš„ï¼Œå†™å°±æ˜¯äº†ï¼Œå†™ï¼

### 5.5ã€ç¬¬äº”æ­¥ï¼šCommit å’Œ Push

- é€šç”¨çš„æµç¨‹ï¼š

`git add <file> git commit -s -m "some description here" git push origin feat-xxx`

å½“ç„¶ï¼Œè¿™é‡Œå¤§å®¶éœ€è¦ç†è§£è¿™å‡ ä¸ªå‘½ä»¤å’Œå‚æ•°çš„å«ä¹‰ï¼Œçµæ´»è°ƒæ•´ã€‚æ¯”å¦‚ä½ ä¹Ÿå¯ä»¥ç”¨`git add --all`å®Œæˆ add æ­¥éª¤ï¼Œåœ¨ push çš„æ—¶å€™ä¹Ÿå¯ä»¥åŠ `-f`å‚æ•°ï¼Œç”¨æ¥å¼ºåˆ¶è¦†ç›–è¿œç¨‹åˆ†æ”¯ï¼ˆå‡å¦‚å·²ç»å­˜åœ¨ï¼Œä½†æ˜¯ commits è®°å½•ä¸åˆä½ æ„ï¼‰ã€‚ä½†æ˜¯è¯·è®°å¾—`git commit`çš„`-s`å‚æ•°ä¸€å®šè¦åŠ å“¦ï¼

å¦‚æœä½ ä¹ æƒ¯ç”¨ IDE æ¥ commitï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œåƒè¿™æ ·ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

DevStream Commit with Goland

è¿™é‡Œè¦æ³¨æ„ commit message çš„è§„èŒƒï¼Œå¯èƒ½æ¯ä¸ªå¼€æºé¡¹ç›®çš„è¦æ±‚ä¸å°½ç›¸åŒï¼Œæ¯”å¦‚ DevStream çš„è§„èŒƒ\[11]æ˜¯ç±»ä¼¼è¿™æ ·çš„æ ¼å¼ï¼š

\`\[optional scope]:

\[optional body]

\[optional footer(s)]

\`

ä¸¾å‡ ä¸ªä¾‹å­ï¼š

- `feat: some description here`
- `docs: some description here`
- `fix: some description here`
- `fix(core): some description here`
- `chore: some description here`
- ...

commit å’Œ push ä¸¤ä¸ªæ­¥éª¤å¯ä»¥åœ¨ IDE é‡Œä¸€æ­¥åˆ°ä½ï¼Œä¹Ÿå¯ä»¥åˆ†å¼€ï¼Œæˆ‘ä¹ æƒ¯åˆ†å¼€æ“ä½œï¼Œç»™è‡ªå·±å¤šä¸€äº›ä½™åœ°ã€‚å¦å¤–ï¼Œæˆ‘æ›´ä¹ æƒ¯å‘½ä»¤è¡Œæ“ä½œï¼š

- `git push origin feat-1`

\`Counting objects: 80, done.
Delta compression using up to 10 threads.
Compressing objects: 100% (74/74), done.
Writing objects: 100% (80/80), 13.78 KiB | 4.59 MiB/s, done.
Total 80 (delta 55), reused 0 (delta 0)
remote: Resolving deltas: 100% (55/55), completed with 31 local objects.
remote:
remote: Create a pull request for 'feat-1' on GitHub by visiting:
remote: Â  Â  Â <https://github.com/daniel-hutao/devstream/pull/new/feat-1>
remote:
To github.com:daniel-hutao/devstream.git

- \[new branch] Â  Â  Â feat-1 -> feat-1
  \`

åˆ°è¿™é‡Œï¼Œæœ¬åœ° commits å°±æ¨é€åˆ°è¿œç¨‹äº†ã€‚

### 5.6ã€ç¬¬å…­æ­¥ï¼šå¼€ä¸€ä¸ª PR

åœ¨å®Œæˆ push æ“ä½œåï¼Œæˆ‘ä»¬æ‰“å¼€ GitHubï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªé»„è‰²çš„æç¤ºæ¡†ï¼Œå‘Šè¯‰æˆ‘ä»¬å¯ä»¥å¼€ä¸€ä¸ª Pull Request äº†ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Compare & pull request

å¦‚æœä½ æ²¡æœ‰çœ‹åˆ°è¿™ä¸ªæ¡†ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ‡æ¢åˆ° feat-1 åˆ†æ”¯ï¼Œç„¶åç‚¹å‡»ä¸‹æ–¹çš„ â€œContributeâ€ æŒ‰é’®æ¥å¼€å¯ä¸€ä¸ª PRï¼Œæˆ–è€…ç›´æ¥ç‚¹ Issues è¾¹ä¸Šçš„ Pull requests è¿›å…¥å¯¹åº”é¡µé¢ã€‚

- Pull Request æ ¼å¼é»˜è®¤æ˜¯è¿™æ ·çš„ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

DevStream Pull Request

è¿™é‡Œæˆ‘ä»¬éœ€è¦å¡«å†™ä¸€ä¸ªåˆé€‚çš„æ ‡é¢˜ï¼ˆé»˜è®¤å’Œ commit message ä¸€æ ·ï¼‰ï¼Œç„¶åæŒ‰ç…§æ¨¡æ¿å¡«å†™ PR æè¿°ã€‚PR æ¨¡æ¿å…¶å®åœ¨æ¯ä¸ªå¼€æºé¡¹ç›®é‡Œéƒ½ä¸å¤ªä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦ä»”ç»†é˜…è¯»ä¸Šé¢çš„å†…å®¹ï¼Œé¿å…çŠ¯ä½çº§é”™è¯¯ã€‚

æ¯”å¦‚ DevStream çš„æ¨¡æ¿é‡Œç›®å‰åˆ†ä¸º 4 ä¸ªéƒ¨åˆ†ï¼š

1. **Pre-Checklist**ï¼šè¿™é‡Œåˆ—äº† 3 ä¸ªå‰ç½®æ£€æŸ¥é¡¹ï¼Œæé†’ PR æäº¤è€…è¦å…ˆé˜…è¯» Contributing æ–‡æ¡£ï¼Œç„¶åä»£ç è¦æœ‰å®Œå–„çš„æ³¨é‡Šæˆ–è€…æ–‡æ¡£ï¼Œå°½å¯èƒ½æ·»åŠ æµ‹è¯•ç”¨ä¾‹ç­‰ï¼›
2. **Description**ï¼šè¿™é‡Œå¡«å†™çš„æ˜¯ PR çš„æè¿°ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ä»‹ç»ä½ çš„ PR å†…å®¹çš„ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œæè¿°è¿™ä¸ª PR è§£å†³äº†ä»€ä¹ˆé—®é¢˜ç­‰ï¼›
3. **Related Issues**ï¼šè®°å¾—å—ï¼Ÿæˆ‘ä»¬åœ¨å¼€å§‹å†™ä»£ç ä¹‹å‰å…¶å®æ˜¯éœ€è¦è®¤é¢† issue çš„ï¼Œè¿™é‡Œè¦å¡«å†™çš„ä¹Ÿå°±æ˜¯å¯¹åº” issue çš„ idï¼Œå‡å¦‚ä½ é¢†çš„ issue é“¾æ¥æ˜¯ [https://github.com/devstream-io/devstream/issues/796ï¼Œå¹¶ä¸”è¿™ä¸ª](https://github.com/devstream-io/devstream/issues/796%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%BF%99%E4%B8%AA) issue é€šè¿‡ä½ è¿™ä¸ª PR çš„ä¿®æ”¹åå°±å®Œæˆäº†ï¼Œå¯ä»¥å…³é—­äº†ï¼Œè¿™æ—¶å€™å¯ä»¥åœ¨ Related Issues ä¸‹é¢å†™ â€œ**close #796**â€ï¼›
4. **New Behavior**ï¼šä»£ç ä¿®æ”¹åç»å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯éœ€è¦è¿›è¡Œæµ‹è¯•çš„ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œç²˜è´´æµ‹è¯•ç»“æœæˆªå›¾ï¼Œè¿™æ · reviewers å°±èƒ½å¤ŸçŸ¥é“ä½ çš„ä»£ç å·²ç»é€šè¿‡æµ‹è¯•ï¼ŒåŠŸèƒ½ç¬¦åˆé¢„æœŸï¼Œè¿™æ ·å¯ä»¥å‡å°‘ review å·¥ä½œé‡ï¼Œå¿«é€Ÿåˆå…¥ã€‚

è¿™ä¸ªæ¨¡æ¿å¹¶ä¸å¤æ‚ï¼Œæˆ‘ä»¬ç›´æ¥å¯¹ç€å¡«å†™å°±è¡Œã€‚

- æ¯”å¦‚ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

DevStream Pull Request Template

ç„¶åç‚¹å‡»å³ä¸‹è§’ â€œCreate pull requestâ€ å°±å®Œæˆäº†ä¸€ä¸ª PR çš„åˆ›å»ºäº†ã€‚ä¸è¿‡æˆ‘è¿™é‡Œä¸èƒ½å»ç‚¹è¿™ä¸ªæŒ‰é’®ï¼Œæˆ‘ç”¨æ¥æ¼”ç¤ºçš„ä¿®æ”¹å†…å®¹æ²¡æœ‰æ„ä¹‰ï¼Œä¸èƒ½åˆå…¥ä¸Šæ¸¸ä»£ç åº“ã€‚ä¸è¿‡æˆ‘è¿˜æ˜¯æƒ³ç»™ä½ çœ‹ä¸‹ PR åˆ›å»ºå‡ºæ¥åçš„æ•ˆæœï¼Œæˆ‘ä»¬ä»¥ pr655\[12] ä¸ºä¾‹å§ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

DevStream Pull Request 655

è¿™æ˜¯ä¸Šä¸ªæœˆæˆ‘æçš„ä¸€ä¸ª PRï¼ŒåŸºæœ¬å’Œæ¨¡æ¿æ ¼å¼ä¸€è‡´ã€‚é™¤äº†æ¨¡æ¿çš„å†…å®¹ï¼Œå¯èƒ½ä½ å·²ç»æ³¨æ„åˆ°è¿™é‡Œå¤šäº†ä¸€ä¸ª Test å°èŠ‚ï¼Œæ²¡é”™ï¼Œæ¨¡æ¿ä¸æ˜¯æ­»çš„ï¼Œæ¨¡æ¿åªæ˜¯ä¸ºäº†é™ä½æ²Ÿé€šæˆæœ¬ï¼Œä½ å®Œå…¨å¯ä»¥é€‚å½“è°ƒæ•´ï¼Œåªè¦ç»“æœæ˜¯ â€œå¾€æ›´æ¸…æ™°çš„æ–¹å‘èµ°â€ çš„ã€‚æˆ‘è¿™é‡Œé€šè¿‡ Test éƒ¨åˆ†æ·»åŠ äº†æœ¬åœ°è¯¦ç»†æµ‹è¯•ç»“æœè®°å½•ï¼Œå‘Šè¯‰ reviewers æˆ‘å·²ç»åœ¨æœ¬åœ°å……åˆ†æµ‹è¯•äº†ï¼Œè¯·æ”¾å¿ƒåˆå…¥ã€‚

æäº¤äº† PR ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ PR åˆ—è¡¨é‡Œæ‰¾åˆ°è‡ªå·±çš„ PR äº†ï¼Œè¿™æ—¶å€™è¿˜éœ€è¦æ³¨æ„ ci æ£€æŸ¥æ˜¯ä¸æ˜¯å…¨éƒ¨èƒ½å¤Ÿé€šè¿‡ï¼Œå‡å¦‚å¤±è´¥äº†ï¼Œéœ€è¦åŠæ—¶ä¿®å¤ã€‚ä»¥ DevStream ä¸ºä¾‹ï¼Œci æ£€æŸ¥é¡¹å¤§è‡´å¦‚ä¸‹ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

DevStream CI Checks

### 5.7ã€ç¬¬ä¸ƒæ­¥ï¼šPR åˆå…¥

å¦‚æœä½ çš„ PR å¾ˆå®Œç¾ï¼Œæ¯«æ— äº‰è®®ï¼Œé‚£ä¹ˆè¿‡ä¸äº†å¤ªé•¿æ—¶é—´ï¼Œé¡¹ç›®ç®¡ç†å‘˜ä¼šç›´æ¥åˆå…¥ä½ çš„ PRï¼Œé‚£ä¹ˆä½ è¿™ä¸ª PR çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿå°±åˆ°æ­¤ç»“æŸäº†ã€‚

ä½†æ˜¯ï¼Œæ²¡é”™ï¼Œè¿™é‡Œæœ‰ä¸ª â€œä½†æ˜¯â€ï¼Œä½†æ˜¯å¾€å¾€ç¬¬ä¸€æ¬¡ PR ä¸ä¼šé‚£ä¹ˆé¡ºåˆ©ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°±è¯¦ç»†ä»‹ç»ä¸€ä¸‹å¯èƒ½ç»å¸¸é‡åˆ°çš„ä¸€äº›é—®é¢˜å’Œå¯¹åº”çš„è§£å†³åŠæ³•ã€‚

## å…­ã€æˆ‘æäº¤äº†ä¸€ä¸ª PRï¼Œç„¶åé‡åˆ°äº†é—®é¢˜ A,B,C,D,E,F,G,...ğŸ˜­

å¤šæ•°æƒ…å†µä¸‹ï¼Œæäº¤ä¸€ä¸ª PR åæ˜¯ä¸ä¼šè¢«é©¬ä¸Šåˆå…¥çš„ï¼Œreviewers å¯èƒ½ä¼šæå‡ºå„ç§ä¿®æ”¹æ„è§ï¼Œæˆ–è€…æˆ‘ä»¬çš„ PR æœ¬èº«å­˜åœ¨ä¸€äº›è§„èŒƒæ€§é—®é¢˜ï¼Œæˆ–è€… ci æ£€æŸ¥å°±ç›´æ¥æŠ¥é”™äº†ï¼Œæ€ä¹ˆè§£å†³å‘¢ï¼Ÿç»§ç»­å¾€ä¸‹çœ‹å§ã€‚

### 6.1ã€Reviewers æäº†ä¸€äº›ä¿®æ”¹æ„è§ï¼Œæˆ‘å¦‚ä½•æ›´æ–° PRï¼Ÿ

å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æäº¤äº†ä¸€ä¸ª PR åï¼Œè¿˜éœ€è¦ç»§ç»­è¿½åŠ  commitï¼Œæ¯”å¦‚æäº¤åå‘ç°ä»£ç è¿˜æœ‰ç‚¹é—®é¢˜ï¼Œæƒ³å†æ”¹æ”¹ï¼Œæˆ–è€… reviewers æäº†ä¸€äº›ä¿®æ”¹æ„è§ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°ä»£ç ã€‚

ä¸€èˆ¬æˆ‘ä»¬éµå®ˆä¸€ä¸ªçº¦å®šï¼šåœ¨ review å¼€å§‹ä¹‹å‰ï¼Œæ›´æ–°ä»£ç å°½é‡ä¸å¼•å…¥æ–°çš„ commits è®°å½•ï¼Œä¹Ÿå°±æ˜¯èƒ½åˆå¹¶å°±åˆå¹¶ï¼Œä¿è¯ commits è®°å½•æ¸…æ™°ä¸”æœ‰æ„ä¹‰ï¼›åœ¨ review å¼€å§‹ä¹‹åï¼Œé’ˆå¯¹ reviewers çš„ä¿®æ”¹æ„è§æ‰€äº§ç”Ÿçš„æ–° commitï¼Œå¯ä»¥ä¸å‘å‰åˆå¹¶ï¼Œè¿™æ ·èƒ½å¤Ÿè®©äºŒæ¬¡ review å·¥ä½œæ›´æœ‰é’ˆå¯¹æ€§ã€‚

ä¸è¿‡ä¸åŒç¤¾åŒºè¦æ±‚ä¸ä¸€æ ·ï¼Œå¯èƒ½æœ‰çš„å¼€æºé¡¹ç›®ä¼šè¦æ±‚ä¸€ä¸ª PR é‡Œåªèƒ½åŒ…å«ä¸€ä¸ª commitï¼Œå¤§å®¶æ ¹æ®å®é™…åœºæ™¯çµæ´»åˆ¤æ–­å³å¯ã€‚

è¯´å›å¦‚ä½•æ›´æ–° PRï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æœ¬åœ°ç»§ç»­ä¿®æ”¹ä»£ç ï¼Œç„¶åé€šè¿‡å’Œç¬¬ä¸€ä¸ª commit ä¸€æ ·çš„æ­¥éª¤ï¼Œæ‰§è¡Œè¿™å‡ ä¸ªå‘½ä»¤ï¼š

`git add <file> git commit -s -m "some description here" git push origin feat-xxx`

è¿™æ—¶å€™åˆ«çœ‹ push çš„æ˜¯ origin çš„ feat-xxx åˆ†æ”¯ï¼Œå…¶å® GitHub ä¼šå¸®ä½ æŠŠæ–°å¢çš„ commits å…¨éƒ¨è¿½åŠ åˆ°ä¸€ä¸ªæœªåˆå…¥ PR é‡Œå»ã€‚æ²¡é”™ï¼Œä½ åªç®¡ä¸æ–­ pushï¼ŒPR ä¼šè‡ªåŠ¨æ›´æ–°ã€‚

è‡³äºå¦‚ä½•åˆå¹¶ commitsï¼Œæˆ‘ä»¬ä¸‹ä¸€å°èŠ‚å…·ä½“ä»‹ç»ã€‚

### 6.2ã€Commits å¤ªå¤šæˆ–è€…è®°å½•æ··ä¹±ï¼Œå¦‚ä½•åˆå¹¶ Commitsï¼Ÿ

å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦å»åˆå¹¶ commitsï¼Œæ¯”å¦‚ä½ çš„ç¬¬ä¸€ä¸ª commit é‡Œæ”¹äº† 100 è¡Œä»£ç ï¼Œç„¶åå‘ç°å°‘æ”¹äº† 1 è¡Œï¼Œè¿™æ—¶å€™åˆæäº¤äº†ä¸€ä¸ª commitï¼Œé‚£ä¹ˆç¬¬äºŒä¸ª commit å°±å¤ª â€œæ²¡æ„æ€â€ äº†ï¼Œæˆ‘ä»¬éœ€è¦åˆå¹¶ä¸€ä¸‹ã€‚

#### 6.2.1ã€Git å‘½ä»¤è¡Œæ–¹å¼åˆå¹¶ Commits

æ¯”å¦‚æˆ‘è¿™é‡Œæœ‰ 2 ä¸ªåŒåçš„ commitsï¼Œç¬¬äºŒä¸ª commit å…¶å®åªæ”¹äº†ä¸€ä¸ªæ ‡ç‚¹ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Commits to be Merged

è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡ rebase å‘½ä»¤æ¥å®Œæˆ 2 ä¸ª commits çš„åˆå¹¶ï¼š

`git rebase -i HEAD~2`

æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ä¼šè¿›å…¥ä¸€ä¸ªç¼–è¾‘é¡µé¢ï¼Œé»˜è®¤æ˜¯ vim ç¼–è¾‘æ¨¡å¼ï¼Œå†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š

\`pick 3114c0f docs: just for test
pick 9b7d63b docs: just for test

# Rebase d640931..9b7d63b onto d640931 (2 commands)

#

# Commands:

# p, pick = use commit

# r, reword = use commit, but edit the commit message

# e, edit = use commit, but stop for amending

# s, squash = use commit, but meld into previous commit

# f, fixup = like "squash", but discard this commit's log message

# x, exec = run command (the rest of the line) using shell

# d, drop = remove commit

#

# These lines can be re-ordered; they are executed from top to bottom.

#

# If you remove a line here THAT COMMIT WILL BE LOST.

#

# However, if you remove everything, the rebase will be aborted.

\`

æˆ‘ä»¬éœ€è¦æŠŠç¬¬äºŒä¸ª pick æ”¹æˆ sï¼Œç„¶åä¿å­˜é€€å‡º (vim çš„ wq å‘½ä»¤)ï¼š

`pick 3114c0f docs: just for test s 9b7d63b docs: just for test`

æ¥ç€ä¼šè¿›å…¥ç¬¬äºŒä¸ªç¼–è¾‘é¡µé¢ï¼š

\`# This is a combination of 2 commits.

# This is the 1st commit message:

docs: just for test

Signed-off-by: Daniel Hu <tao.hu@merico.dev>

# This is the commit message #2:

docs: just for test

Signed-off-by: Daniel Hu <tao.hu@merico.dev>

# Please enter the commit message for your changes. Lines starting

# with '#' will be ignored, and an empty message aborts the commit.

# ...

\`

è¿™é‡Œæ˜¯ç”¨æ¥ç¼–è¾‘åˆå¹¶åçš„ commit message çš„ï¼Œæˆ‘ä»¬ç›´æ¥åˆ æ‰å¤šä½™éƒ¨åˆ†ï¼Œåªä¿ç•™è¿™æ ·å‡ è¡Œï¼š

\`docs: just for test

Signed-off-by: Daniel Hu <tao.hu@merico.dev>

\`

æ¥ç€åŒæ ·æ˜¯ vim çš„ä¿å­˜é€€å‡ºæ“ä½œï¼Œè¿™æ—¶å€™å¯ä»¥çœ‹åˆ°æ—¥å¿—ï¼š

`[detached HEAD 80f5e57] docs: just for test Date: Wed Jul 6 10:28:37 2022 +0800 1 file changed, 2 insertions(+) Successfully rebased and updated refs/heads/feat-1.`

è¿™æ—¶å€™å¯ä»¥é€šè¿‡`git log`å‘½ä»¤æŸ¥çœ‹ä¸‹ commits è®°å½•æ˜¯ä¸æ˜¯ç¬¦åˆé¢„æœŸï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Rebased

å¥½ï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°ç¡®è®¤ commits å·²ç»å®Œæˆåˆå¹¶ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç»§ç»­æ¨é€åˆ°è¿œç¨‹ï¼Œè®© PR ä¹Ÿæ›´æ–°æ‰ï¼š

`git push -f origin feat-xxx`

è¿™é‡Œéœ€è¦æœ‰ä¸€ä¸ª`-f`å‚æ•°æ¥å¼ºåˆ¶æ›´æ–°ï¼Œåˆå¹¶äº† commits æœ¬è´¨ä¹Ÿæ˜¯ä¸€ç§å†²çªï¼Œéœ€è¦å†²æ‰è¿œç¨‹æ—§çš„ commits è®°å½•ã€‚

#### 6.2.2 IDE é‡Œåˆå¹¶ Commits

å›¾å½¢åŒ–æ–¹å¼å½“ç„¶ä¹Ÿå¯ä»¥å®ç° Commits çš„åˆå¹¶ã€‚

- æˆªå›¾èµ°èµ·![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

1. ç‚¹å‡»å³ä¸‹è§’çš„ Git
2. é€‰æ‹©æƒ³è¦åˆå¹¶çš„ commits
3. å³é”®ï¼Œç„¶åç‚¹å‡» Squash Commitsï¼Œè®°å¾—å˜´é‡Œé»˜å¿µä¸€å¥ï¼šèµ°ä½ ï¼

æ¥ç€å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªé¡µé¢äº†ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Squash with Goland

è¿™æ˜¯å›¾å½¢åŒ–æ–¹å¼ä¿®æ”¹ commit message çš„é¡µé¢ï¼Œè¡Œå§ï¼Œæ”¹æˆä½ å–œæ¬¢çš„æ ·å­ï¼Œç„¶åç‚¹å‡»å³ä¸‹è§’çš„ OK æŒ‰é’®ï¼Œäº‹æƒ…å°±ç®—ç»“æŸäº†ã€‚

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Squash with Goland

çœ‹ï¼Œ2 ä¸ª commitsï¼Œå®ƒä»¬ â€œèåˆâ€ äº†ï¼Œå˜æˆäº†ä¸€ä¸ª â€œæ”¹å¤´æ¢é¢â€ çš„æ–° commit äº†ã€‚

### 6.3ã€PR äº§ç”Ÿäº†å†²çªï¼Œå¦‚ä½•è§£å†³ï¼Ÿ

å†²çªå¯ä»¥åœ¨çº¿è§£å†³ï¼Œä¹Ÿå¯èƒ½æœ¬åœ°è§£å†³ï¼Œæˆ‘ä»¬é€ä¸ªæ¥çœ‹ã€‚

#### 6.3.1ã€åœ¨çº¿è§£å†³å†²çª

æˆ‘ä»¬è¦å°½å¯èƒ½é¿å…å†²çªï¼Œå…»æˆæ¯æ¬¡å†™ä»£ç å‰æ›´æ–°æœ¬åœ°ä»£ç çš„ä¹ æƒ¯ã€‚ä¸è¿‡ï¼Œå†²çªä¸å¯èƒ½å®Œå…¨é¿å…ï¼Œæœ‰æ—¶å€™ä½ çš„ PR è¢«é˜»å¡äº†å‡ å¤©ï¼Œå¯èƒ½åˆ«äººæ”¹äº†åŒä¸€è¡Œä»£ç ï¼Œè¿˜æŠ¢å…ˆè¢«åˆå…¥äº†ï¼Œè¿™æ—¶å€™ä½ çš„ PR å°±å‡ºç°å†²çªäº†ï¼Œç±»ä¼¼è¿™æ ·ï¼ˆåŒæ ·ï¼Œæ­¤åˆ»æˆ‘ä¸èƒ½çœŸçš„å»ä¸Šæ¸¸é¡¹ç›®æ„é€ å†²çªï¼Œæ‰€ä»¥ä¸‹é¢ç”¨äºæ¼”ç¤ºçš„å†²çªåœ¨æˆ‘åœ¨è‡ªå·±çš„ repo é‡Œï¼‰ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Conflict Happened

æ¯æ¬¡çœ‹åˆ°è¿™ä¸ªé¡µé¢éƒ½ä¼šè®©äººè§‰å¾—å¿ƒå¤´ä¸€ç´§ã€‚æˆ‘ä»¬ç‚¹å‡» â€œResolve conflictsâ€ æŒ‰é’®ï¼Œå°±å¯ä»¥çœ‹åˆ°å…·ä½“å†²çªçš„å†…å®¹äº†ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Conflict File

å¯ä»¥çœ‹åˆ°å…·ä½“å†²çªçš„è¡Œäº†ï¼Œæ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯è§£å†³å†²çªã€‚æˆ‘ä»¬éœ€è¦åˆ æ‰æ‰€æœ‰çš„ `<<<<<<<`ã€`>>>>>>>` å’Œ `=======` æ ‡è®°ï¼Œåªä¿ç•™æœ€ç»ˆæƒ³è¦çš„å†…å®¹ï¼Œå¦‚ä¸‹ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Conflict Resolved

æ¥ç€ç‚¹å‡»å³ä¸Šè§’çš„ â€œMark as Resolvedâ€ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Mark as resolved

æœ€åç‚¹å‡» â€œCommit mergeâ€ï¼š![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

è¿™æ ·å°±å®Œæˆå†²çªè§£å†³äº†ï¼Œå¯ä»¥çœ‹åˆ°äº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„ commitï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Conflict Resolved

åˆ°è¿™é‡Œï¼Œå†²çªå°±è§£å†³æ‰äº†ã€‚

#### 6.3.2ã€æœ¬åœ°è§£å†³å†²çª

æ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æœ¬åœ°è§£å†³å†²çªï¼Œå°¤å…¶æ˜¯å†²çªå¤ªå¤šï¼Œå¤ªå¤æ‚çš„æ—¶å€™ã€‚

åŒæ ·ï¼Œæˆ‘ä»¬æ„é€ ä¸€ä¸ªå†²çªï¼Œè¿™æ¬¡å°è¯•åœ¨æœ¬åœ°è§£å†³å†²çªã€‚

- å…ˆåœ¨çº¿çœ‹ä¸€ä¸‹å†²çªçš„å†…å®¹ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Conflict Happened

- æ¥ç€æˆ‘ä»¬åœ¨æœ¬åœ°æ‰§è¡Œï¼š

\`# å…ˆåˆ‡å›åˆ° main åˆ†æ”¯
git checkout main

# æ‹‰å–ä¸Šæ¸¸ä»£ç ï¼ˆå®é™…åœºæ™¯è‚¯å®šæ˜¯å’Œä¸Šæ¸¸å†²çªï¼Œæˆ‘ä»¬è¿™é‡Œçš„æ¼”ç¤ºç¯å¢ƒå…¶å®æ˜¯ originï¼‰

git fetch upstream

# æ›´æ–°æœ¬åœ° mainï¼ˆè¿™é‡Œä¹Ÿå¯ä»¥ç”¨ rebaseï¼Œä½†æ˜¯ reset ä¸ç®¡æœ‰æ²¡æœ‰å†²çªæ€»æ˜¯ä¼šæˆåŠŸï¼‰

git reset --hard upstream/main
\`

åˆ°è¿™é‡Œï¼Œæœ¬åœ° main åˆ†æ”¯å°±å’Œè¿œç¨‹ (æˆ–è€…ä¸Šæ¸¸) main åˆ†æ”¯ä»£ç å®Œå…¨ä¸€è‡´äº†ï¼Œç„¶åæˆ‘ä»¬è¦åšçš„æ˜¯å°† main åˆ†æ”¯çš„ä»£ç åˆå…¥è‡ªå·±çš„ç‰¹æ€§åˆ†æ”¯ï¼ŒåŒæ—¶è§£å†³å†²çªã€‚

`git checkout feat-1 git rebase main`

- è¿™æ—¶å€™ä¼šçœ‹åˆ°è¿™æ ·çš„æ—¥å¿—ï¼š

\`First, rewinding head to replay your work on top of it...
Applying: docs: conflict test 1
Using index info to reconstruct a base tree...
M Â  Â  Â  README.md
Falling back to patching base and 3-way merge...
Auto-merging README.md
CONFLICT (content): Merge conflict in README.md
error: Failed to merge in the changes.
Patch failed at 0001 docs: conflict test 1
The copy of the patch that failed is found in: .git/rebase-apply/patch

Resolve all conflicts manually, mark them as resolved with
"git add/rm \<conflicted_files>", then run "git rebase --continue".
You can instead skip this commit: run "git rebase --skip".
To abort and get back to the state before "git rebase", run "git rebase --abort".

\`

æˆ‘ä»¬éœ€è¦è§£å†³å†²çªï¼Œç›´æ¥æ‰“å¼€ README.mdï¼Œæ‰¾åˆ°å†²çªçš„åœ°æ–¹ï¼Œç›´æ¥ä¿®æ”¹ã€‚è¿™é‡Œçš„æ”¹æ³•å’Œä¸Šä¸€å°èŠ‚ä»‹ç»çš„åœ¨çº¿è§£å†³å†²çªæ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ã€‚

ä»£ç é‡ŒåŒæ ·åªä¿ç•™æœ€ç»ˆå†…å®¹ï¼Œç„¶åç»§ç»­ git å‘½ä»¤èµ°èµ·æ¥ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Conflict Resolved

å¯èƒ½æ­¤æ—¶ä½ å¹¶ä¸æ”¾å¿ƒï¼Œé‚£å°±é€šè¿‡`git log`å‘½ä»¤çœ‹ä¸€ä¸‹ commits å†å²è®°å½•å§ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Commits History

è¿™é‡Œçš„ â€œconflict test 2â€ æ˜¯æˆ‘æäº¤åˆ° main åˆ†æ”¯çš„è®°å½•ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªæ—¶é—´æ¯” â€œconflict test 1â€ è¿˜è¦æ™šäº†ä¸€äº›ï¼Œä½†æ˜¯å®ƒå…ˆåˆå…¥äº†ã€‚æˆ‘ä»¬åœ¨ rebase æ“ä½œåï¼Œè¿™ä¸ªè®°å½•åœ¨å‰ï¼Œæˆ‘ä»¬ç‰¹æ€§åˆ†æ”¯çš„ â€œconflict test 1â€ åœ¨åï¼Œçœ‹èµ·æ¥å¾ˆå’Œè°ï¼Œæˆ‘ä»¬ç»§ç»­å°†è¿™ä¸ªå˜æ›´æ¨é€åˆ°è¿œç¨‹ï¼Œè¿™ä¸ªå‘½ä»¤å·²ç»å‡ºç°å¾ˆå¤šæ¬¡äº†ï¼š

`git push -f origin feat-xxx`

è¿™æ—¶å€™æˆ‘ä»¬å†å›åˆ° GitHub çœ‹ PR çš„è¯ï¼Œå¯ä»¥å‘ç°å†²çªå·²ç»è§£å†³äº†ï¼Œå¹¶ä¸”æ²¡æœ‰äº§ç”Ÿå¤šä½™çš„ commit è®°å½•ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ª PR çš„ commit è®°å½•éå¸¸å¹²å‡€ï¼Œå¥½ä¼¼å†²çªä»æ¥æ²¡æœ‰å‡ºç°è¿‡ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)
![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

è‡³äºä»€ä¹ˆæ—¶å€™å¯ä»¥åœ¨çº¿è§£å†³å†²çªï¼Œä»€ä¹ˆæ—¶å€™é€‚åˆæœ¬åœ°è§£å†³å†²çªï¼Œå°±çœ‹å¤§å®¶å¦‚ä½•çœ‹å¾… â€œ**éœ€ä¸éœ€è¦ä¿ç•™è§£å†³å†²çªçš„è®°å½•**â€ äº†ï¼Œä¸åŒç¤¾åŒºçš„ç†è§£ä¸ä¸€æ ·ï¼Œå¯èƒ½ç‰¹åˆ«æˆç†Ÿçš„å¼€æºç¤¾åŒºä¼šå¸Œæœ›ä½¿ç”¨æœ¬åœ°è§£å†³å†²çªæ–¹å¼ï¼Œå› ä¸ºåœ¨çº¿è§£å†³å†²çªäº§ç”Ÿçš„è¿™æ¡ merge è®°å½•å…¶å® â€œæ²¡è¥å…»â€ã€‚è‡³äº DevStream ç¤¾åŒºå’Œ DevLake ç¤¾åŒºï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨åä¸€ç§ï¼Œä½†æ˜¯ä¸åšå¼ºåˆ¶è¦æ±‚ã€‚

### 6.4ã€CI æ£€æŸ¥ä¸è¿‡ï¼šcommit message ç›¸å…³é—®é¢˜å¦‚ä½•ä¿®å¤ï¼Ÿ

å‰é¢æˆ‘ä»¬æåˆ°è¿‡ commit message çš„è§„èŒƒï¼Œä½†æ˜¯ç¬¬ä¸€æ¬¡æäº¤ PR çš„æ—¶å€™è¿˜æ˜¯å¾ˆå®¹æ˜“å‡ºé”™ï¼Œæ¯”å¦‚`feat: xxx`å…¶å®èƒ½é€šè¿‡ ci æ£€æŸ¥ï¼Œä½†æ˜¯`feat: Xxx`å°±ä¸è¡Œäº†ã€‚å‡è®¾ç°åœ¨æˆ‘ä»¬ä¸å°å¿ƒæäº¤äº†ä¸€ä¸ª PRï¼Œä½†æ˜¯é‡Œé¢ commit çš„ message ä¸è§„èŒƒï¼Œè¿™æ—¶å€™æ€ä¹ˆä¿®æ”¹å‘¢ï¼Ÿ

- å¤ªç®€å•äº†ï¼Œç›´æ¥æ‰§è¡Œï¼š

`git commit --amend`

è¿™æ¡å‘½ä»¤æ‰§è¡Œåå°±èƒ½è¿›å…¥ç¼–è¾‘é¡µé¢ï¼Œéšæ„æ›´æ–° commit message äº†ã€‚æ”¹å®Œä¹‹åï¼Œç»§ç»­ pushï¼š

`git push -f origin feat-xxx`

è¿™æ ·å°±èƒ½æ›´æ–° PR é‡Œçš„ commit message äº†ã€‚

### 6.5ã€CI æ£€æŸ¥ä¸è¿‡ï¼šDCO(sign) é—®é¢˜å¦‚ä½•ä¿®å¤ï¼Ÿ

ç›¸å½“å¤šçš„å¼€æºé¡¹ç›®ä¼šè¦æ±‚æ‰€æœ‰åˆå…¥çš„ commits éƒ½åŒ…å«ä¸€è¡Œç±»ä¼¼è¿™æ ·çš„è®°å½•ï¼š

`Daniel Hu <tao.hu@merico.dev>`

æ‰€ä»¥ commit message çœ‹èµ·æ¥ä¼šåƒè¿™æ ·ï¼š

\`feat: some description here

    Signed-off-by: Daniel Hu <tao.hu@merico.dev>

\`

è¿™è¡Œä¿¡æ¯ç›¸å½“äºæ˜¯å¯¹åº” commit çš„ä½œè€…ç­¾åã€‚è¦æ·»åŠ è¿™æ ·ä¸€è¡Œç­¾åå½“ç„¶å¾ˆç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨`git commit`å‘½ä»¤åé¢åŠ ä¸€ä¸ª`-s`å‚æ•°å°±å¯ä»¥äº†ï¼Œæ¯”å¦‚`git commit -s -m "some description here"`æäº¤çš„ commit å°±ä¼šå¸¦ä¸Šä½ çš„ç­¾åã€‚

ä½†æ˜¯å¦‚æœå¦‚æœä½ ç¬¬ä¸€æ¬¡æäº¤çš„ PR é‡Œå¿˜è®°äº†åœ¨ commits ä¸­æ·»åŠ  Signed-off-by å‘¢ï¼Ÿè¿™æ—¶å€™ï¼Œå¦‚æœå¯¹åº”å¼€æºé¡¹ç›®é…ç½®äº† DCO æ£€æŸ¥\[13]ï¼Œé‚£ä¹ˆä½ çš„ PR å°±ä¼šåœ¨ ci æ£€æŸ¥ä¸­è¢« â€œæªå‡ºæ¥â€ æ²¡æœ‰æ­£ç¡®ç­¾åã€‚

åŒæ ·å…ˆæ„é€ ä¸€ä¸ªæ²¡æœ‰åŠ ç­¾åçš„ commitï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

è¯·æ·»åŠ å›¾ç‰‡æè¿°

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Commit Without Sign

æˆ‘ä¸èƒ½ç›´æ¥æ¨åˆ° DevStream é¡¹ç›®ä»£ç åº“é‡Œæ¼”ç¤ºå¦‚ä½•è®© DCO æŠ¥é”™ï¼Œä½†æ˜¯å¦‚æœæ PRï¼Œçœ‹åˆ°çš„æ•ˆæœæ˜¯è¿™æ ·çš„ï¼š

![](https://notes-learning.oss-cn-beijing.aliyuncs.com/a781caab-57c4-4243-85ca-0fc5495b12de/640)

Commit With DCO Error

æˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•è§£å†³ï¼š

- `git commit --amend -s`

è¿™æ ·ä¸€ä¸ªç®€å•çš„å‘½ä»¤ï¼Œå°±èƒ½ç›´æ¥åœ¨æœ€è¿‘ä¸€ä¸ª commit é‡ŒåŠ ä¸Š Signed-off-by ä¿¡æ¯ã€‚æ‰§è¡Œè¿™è¡Œå‘½ä»¤åä¼šç›´æ¥è¿›å…¥ commit message ç¼–è¾‘é¡µé¢ï¼Œé»˜è®¤å¦‚ä¸‹å›¾ï¼š

\`docs: dco test

Signed-off-by: Daniel Hu <tao.hu@merico.dev>

\`

è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥åŒæ—¶ä¿®æ”¹ commit messageï¼Œå¦‚æœä¸éœ€è¦ï¼Œé‚£å°±ç›´æ¥ä¿å­˜é€€å‡ºå¥½äº†ï¼Œç­¾åä¿¡æ¯æ˜¯ä¼šè‡ªåŠ¨åŠ ä¸Šçš„ã€‚

å®Œæˆç­¾ååå‘¢ï¼Ÿå½“ç„¶æ˜¯æ¥ä¸€ä¸ªå¼ºåˆ¶ push äº†ï¼š

`git push -f origin feat-xxx`

è¿™æ ·ï¼Œä½  PR ä¸­çš„ DCO æŠ¥é”™å°±è‡ªç„¶ä¿®å¤äº†ã€‚

## ä¸ƒã€æœ€å

ä¸€ä¸ªä¸å°å¿ƒè¿™ç¯‡æ–‡ç« å†™çš„æœ‰ç‚¹é•¿äº†ã€‚è¡Œï¼Œæ‰“å®Œæ”¶å·¥ï¼

- æ¬¢è¿åˆ°æˆ‘çš„ä¸ªäººç½‘ç«™\[14]æˆ–è€…å¾®ä¿¡å…¬ä¼—å· â€œ**èƒ¡è¯´äº‘åŸç”Ÿ**â€ æµè§ˆæ›´å¤šæˆ‘çš„æ–‡ç« ï¼›
- æ¬¢è¿å…³æ³¨ DevStream ç¤¾åŒº\[15]ï¼Œå’Œæˆ‘ä¸€èµ·ç©å¼€æºï¼›
- æ¬¢è¿åˆ° DevStream å®˜æ–¹åšå®¢\[16]æµè§ˆæ›´å¤š DevStream å›¢é˜Ÿå‘å¸ƒçš„æ–‡ç« ã€‚

æœ¬æ–‡å¤–é“¾

\[1]

CNCF Project DevStream: [_https://github.com/devstream-io/devstream_](https://github.com/devstream-io/devstream)

\[2]

Apache DevLake: [_https://github.com/apache/incubator-devlake_](https://github.com/apache/incubator-devlake)

\[3]

CNCF æ²™ç®±é¡¹ç›®: [_https://www.cncf.io/sandbox-projects/_](https://www.cncf.io/sandbox-projects/)

\[4]

CNCF å­µåŒ–é¡¹ç›® (åˆ—è¡¨åŒ…æ‹¬æ¯•ä¸šé¡¹ç›®): [_https://www.cncf.io/projects/_](https://www.cncf.io/projects/)

\[5]

Apache é¡¹ç›® (å­µåŒ–æœŸé¡¹ç›®åå­—ä¸­å¸¦ Incubating): [_https://projects.apache.org/projects.html_](https://projects.apache.org/projects.html)

\[6]

DevStream: [_https://www.cncf.io/projects/devstream/_](https://www.cncf.io/projects/devstream/)

\[7]

Apache DevLake: [_https://projects.apache.org/project.html?incubator-devlake_](https://projects.apache.org/project.html?incubator-devlake)

\[8]

Issues å…¥å£: [_https://github.com/devstream-io/devstream/issues_](https://github.com/devstream-io/devstream/issues)

\[9]

DevStream çš„ Contributing: [_https://github.com/devstream-io/devstream/blob/main/CONTRIBUTING.md_](https://github.com/devstream-io/devstream/blob/main/CONTRIBUTING.md)

\[10]

Development Workflow: [_https://github.com/devstream-io/devstream/blob/main/docs/development/development-workflow.md_](https://github.com/devstream-io/devstream/blob/main/docs/development/development-workflow.md)

\[11]

è§„èŒƒ: [_https://github.com/devstream-io/devstream/blob/main/docs/development/commit-messages.md_](https://github.com/devstream-io/devstream/blob/main/docs/development/commit-messages.md)

\[12]

pr655: [_https://github.com/devstream-io/devstream/pull/655_](https://github.com/devstream-io/devstream/pull/655)

\[13]

DCO æ£€æŸ¥: [_https://wiki.linuxfoundation.org/dco_](https://wiki.linuxfoundation.org/dco)

\[14]

æˆ‘çš„ä¸ªäººç½‘ç«™: [_https://www.danielhu.cn_](https://www.danielhu.cn)

\[15]

DevStream ç¤¾åŒº: [_https://github.com/devstream-io_](https://github.com/devstream-io)

\[16]

DevStream å®˜æ–¹åšå®¢: [_https://blog.devstream.io_](https://blog.devstream.io)
<https://mp.weixin.qq.com/s/8tKpPqFeZOEE4ldEWptMZg>
